(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-12ce5e12"],{"21c7":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" 工资表管理 ")])},n=[],i={name:"SalTable"},s=i,r=a("2877"),o=Object(r["a"])(s,l,n,!1,null,"9f1087ea",null);t["default"]=o.exports},"2bc5":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:e.showAddDialog}},[e._v("添加工资账套")])],1),a("div",{staticClass:"fixTable"},[a("el-table",{attrs:{data:e.salaries,border:"",stripe:"","header-cell-style":{textAlign:"center"},"cell-style":{textAlign:"center"}}},[a("el-table-column",{attrs:{width:"120",label:"账套名称",prop:"name"}}),a("el-table-column",{attrs:{width:"70",label:"基本工资",prop:"basicSalary"}}),a("el-table-column",{attrs:{width:"70",label:"交通补助",prop:"trafficSalary"}}),a("el-table-column",{attrs:{width:"70",label:"午餐补助",prop:"lunchSalary"}}),a("el-table-column",{attrs:{width:"70",label:"奖金",prop:"bonus"}}),a("el-table-column",{attrs:{width:"100",label:"启用时间",prop:"createDate"}}),a("el-table-column",{attrs:{label:"养老金"}},[a("el-table-column",{attrs:{width:"70",label:"基数",prop:"pensionBase"}}),a("el-table-column",{attrs:{width:"70",label:"比率",prop:"pensionPer"}})],1),a("el-table-column",{attrs:{label:"医疗保险"}},[a("el-table-column",{attrs:{width:"70",label:"基数",prop:"medicalBase"}}),a("el-table-column",{attrs:{width:"70",label:"比率",prop:"medicalPer"}})],1),a("el-table-column",{attrs:{label:"公积金"}},[a("el-table-column",{attrs:{width:"70",label:"基数",prop:"accumulationFundBase"}}),a("el-table-column",{attrs:{width:"70",label:"比率",prop:"accumulationFundPer"}})],1),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"danger"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1)],1),a("el-dialog",{attrs:{"close-on-click-modal":!1,"before-close":e.handleClose,title:e.dialogTitle,visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"diaLogStyle"},[a("el-steps",{attrs:{direction:"vertical",active:e.salaryItemIndex}},e._l(e.salaryNames,(function(e,t){return a("el-step",{key:t,attrs:{title:e}})})),1),e._l(e.salary,(function(t,l,n){return a("el-input",{directives:[{name:"show",rawName:"v-show",value:e.salaryItemIndex==n,expression:"salaryItemIndex == index"}],key:n,staticStyle:{width:"200px"},attrs:{placeholder:"输入"+e.salaryNames[n]},model:{value:e.salary[l],callback:function(t){e.$set(e.salary,l,t)},expression:"salary[title]"}})}))],2),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.preStep}},[e._v("上一步")]),a("el-button",{attrs:{type:"primary"},on:{click:e.nextStep}},[e._v(e._s(10==e.salaryItemIndex?"完成":"下一步"))])],1)])],1)},n=[],i=(a("b0c0"),{name:"SalSob",data:function(){return{dialogTitle:"",salaries:[],dialogVisible:!1,salaryNames:["基本工资","交通补助","午餐补助","奖金","养老金基数","养老金比率","医疗保险基数","医疗保险比率","公积金基数","公积金比率","账套名称"],salaryItemIndex:0,salary:{basicSalary:0,trafficSalary:0,lunchSalary:0,bonus:0,pensionBase:0,pensionPer:0,medicalBase:0,medicalPer:0,accumulationFundBase:0,accumulationFundPer:0,name:""}}},mounted:function(){this.initSalaries()},methods:{clearSalary:function(){this.salary={basicSalary:0,trafficSalary:0,lunchSalary:0,bonus:0,pensionBase:0,pensionPer:0,medicalBase:0,medicalPer:0,accumulationFundBase:0,accumulationFundPer:0,name:""}},handleClose:function(){this.dialogVisible=!1,this.salaryItemIndex=0,this.clearSalary()},preStep:function(){0!=this.salaryItemIndex&&this.salaryItemIndex--},nextStep:function(){var e=this;10==this.salaryItemIndex&&(this.salary.id?this.putRequest("salary/sob/",this.salary).then((function(t){t&&e.initSalaries()})):this.postRequest("salary/sob/",this.salary).then((function(t){t&&e.initSalaries()})),this.dialogVisible=!1,this.salaryItemIndex=-1),this.salaryItemIndex++},showAddDialog:function(){this.dialogTitle="添加工资账套",this.salary.name="默认账套",this.dialogVisible=!0},handleDelete:function(e){var t=this;this.$confirm("此操作将永久删除 [ "+e.name+" ] 账套记录，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteRequest("salary/sob/"+e.id).then((function(e){e&&t.initSalaries()}))})).catch((function(){}))},handleEdit:function(e){this.dialogVisible=!0,this.dialogTitle="修改工资账套",this.dialogVisible=!0,this.salary.basicSalary=e.basicSalary,this.salary.trafficSalary=e.trafficSalary,this.salary.lunchSalary=e.lunchSalary,this.salary.bonus=e.bonus,this.salary.pensionPer=e.pensionPer,this.salary.pensionBase=e.pensionBase,this.salary.medicalPer=e.medicalPer,this.salary.medicalBase=e.medicalBase,this.salary.accumulationFundPer=e.accumulationFundPer,this.salary.accumulationFundBase=e.accumulationFundBase,this.salary.name=e.name,this.salary.id=e.id},initSalaries:function(){var e=this;this.getRequest("salary/sob/").then((function(t){t&&(e.salaries=t)}))}}}),s=i,r=(a("6c55"),a("2877")),o=Object(r["a"])(s,l,n,!1,null,null,null);t["default"]=o.exports},"3bc9":function(e,t,a){},"4eab":function(e,t,a){"use strict";a("562c")},"562c":function(e,t,a){},5865:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" 员工资料 ")])},n=[],i={name:"PerEmp"},s=i,r=a("2877"),o=Object(r["a"])(s,l,n,!1,null,"76624f98",null);t["default"]=o.exports},"58b4":function(e,t,a){"use strict";a("3bc9")},"6ac98":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{attrs:{size:"mini",data:e.data,border:"",stripe:"","header-cell-style":{textAlign:"center"},"cell-style":{textAlign:"center"}}},[a("el-table-column",{attrs:{label:"姓名",prop:"name"}}),a("el-table-column",{attrs:{label:"工号",prop:"workID"}}),a("el-table-column",{attrs:{label:"电子邮件",prop:"email"}}),a("el-table-column",{attrs:{label:"电话号码",prop:"phone"}}),a("el-table-column",{attrs:{label:"所属部门",prop:"department.name"}}),a("el-table-column",{attrs:{label:"所属账套"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.salary?a("el-tooltip",{attrs:{placement:"right"}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("table",[a("tr",[a("td",[e._v("基本工资")]),a("td",[e._v(e._s(t.row.salary.basicSalary))])]),a("tr",[a("td",[e._v("交通补助")]),a("td",[e._v(e._s(t.row.salary.trafficSalary))])]),a("tr",[a("td",[e._v("午餐补助")]),a("td",[e._v(e._s(t.row.salary.lunchSalary))])]),a("tr",[a("td",[e._v("奖金")]),a("td",[e._v(e._s(t.row.salary.bonus))])]),a("tr",[a("td",[e._v("养老金基数")]),a("td",[e._v(e._s(t.row.salary.pensionBase))])]),a("tr",[a("td",[e._v("养老金比率")]),a("td",[e._v(e._s(t.row.salary.pensionPer))])]),a("tr",[a("td",[e._v("医疗保险基数")]),a("td",[e._v(e._s(t.row.salary.medicalBase))])]),a("tr",[a("td",[e._v("医疗保险比率")]),a("td",[e._v(e._s(t.row.salary.medicalPer))])]),a("tr",[a("td",[e._v("公积金基数")]),a("td",[e._v(e._s(t.row.salary.accumulationFundBase))])]),a("tr",[a("td",[e._v("公积金比率")]),a("td",[e._v(e._s(t.row.salary.accumulationFundPer))])]),a("tr",[a("td",[e._v("启用时间")]),a("td",[e._v(e._s(t.row.salary.createDate))])])])]),a("el-tag",[e._v(e._s(t.row.salary.name))])],1):a("el-tag",[e._v("暂未设置")])]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{placement:"left",title:"修改工资账套",width:"200",trigger:"click"},on:{show:function(a){return e.showPopover(t.row)},hide:function(a){return e.hidePopover(t.row)}}},[a("el-select",{attrs:{placeholder:"请选择账套"},model:{value:e.currentSalary,callback:function(t){e.currentSalary=t},expression:"currentSalary"}},e._l(e.salaries,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),a("el-button",{attrs:{slot:"reference",type:"danger"},slot:"reference"},[e._v("修改工资账套")])],1)]}}])})],1),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-pagination",{staticStyle:{display:"flex","justify-content":"flex-end"},attrs:{background:"",layout:"prev, pager, next, sizes, total",total:e.total,"page-sizes":[10,20,30,40],"page-size":10},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}})],1)],1)},n=[],i={name:"SalSobCfg",data:function(){return{data:[],total:0,page:1,size:10,salaries:[],currentSalary:null}},mounted:function(){this.initAllEmpWithSalary(),this.initSalaries()},methods:{hidePopover:function(e){var t=this;this.currentSalary&&this.putRequest("/salary/sobcfg?eid="+e.id+"&sid="+this.currentSalary).then((function(e){e&&t.initAllEmpWithSalary()}))},showPopover:function(e){e.salary?this.currentSalary=e.salary.id:this.currentSalary=null},initSalaries:function(){var e=this;this.getRequest("/salary/sob/").then((function(t){t&&(e.salaries=t)}))},handleSizeChange:function(e){this.size=e,this.initAllEmpWithSalary()},handleCurrentChange:function(e){this.page=e,this.initAllEmpWithSalary()},initAllEmpWithSalary:function(){var e=this;this.getRequest("/salary/sobcfg?page="+this.page+"&size="+this.size).then((function(t){t&&(e.data=t.data,e.total=t.total)}))}}},s=i,r=a("2877"),o=Object(r["a"])(s,l,n,!1,null,null,null);t["default"]=o.exports},"6c55":function(e,t,a){"use strict";a("c045")},"83ed":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("el-button",{attrs:{icon:"el-icon-circle-plus-outline",size:"medium ",type:"text"},on:{click:e.showAddEmpTrain}},[e._v(" 添加员工培训记录 ")])],1),a("div",{staticClass:"table"},[a("el-table",{staticStyle:{width:"70%"},attrs:{"header-cell-style":{textAlign:"center"},"cell-style":{textAlign:"center"},data:e.empTrains,stripe:"",border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"id",label:"编号",width:"55"}}),a("el-table-column",{attrs:{prop:"workID",width:"92",label:"工号"}}),a("el-table-column",{attrs:{prop:"name",width:"93",label:"姓名"}}),a("el-table-column",{attrs:{prop:"trainDate",label:"培训日期"}}),a("el-table-column",{attrs:{prop:"trainContent",label:"培训内容"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("编辑培训内容")]),a("el-button",{attrs:{type:"danger"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1)],1),a("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"danger",disabled:0==e.multipleSelection.length},on:{click:e.delEmpTrains}},[e._v(" 批量删除 ")]),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:"修改培训内容",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",[a("el-tag",{staticStyle:{"margin-top":"8px"},attrs:{size:"medium"}},[e._v("培训内容")]),a("el-input",{staticClass:"updateTrainInput",model:{value:e.updateEmpTrain.trainContent,callback:function(t){e.$set(e.updateEmpTrain,"trainContent",t)},expression:"updateEmpTrain.trainContent"}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.doUpdate}},[e._v("确 定")])],1)]),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:"添加培训记录",visible:e.addDialogVisible,width:"50%"},on:{"update:visible":function(t){e.addDialogVisible=t}}},[a("el-select",{staticStyle:{width:"183px"},attrs:{size:"medium",filterable:"",placeholder:"搜索员工名"},model:{value:e.empTrain.eid,callback:function(t){e.$set(e.empTrain,"eid",t)},expression:"empTrain.eid"}},e._l(e.allEmpNameWorkID,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.name))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"5px"}},[e._v("工号："+e._s(t.workID))])])})),1),a("el-input",{staticStyle:{"margin-top":"18px"},attrs:{size:"medium",clearable:"",placeholder:"请输入培训内容"},model:{value:e.empTrain.trainContent,callback:function(t){e.$set(e.empTrain,"trainContent",t)},expression:"empTrain.trainContent"}}),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addDialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addEmpTrain}},[e._v("确 定")])],1)],1)],1)},n=[],i=(a("4160"),a("b0c0"),a("159b"),{name:"PerTrain",data:function(){return{empTrain:{eid:null,trainContent:""},updateEmpTrain:{trainContent:""},allEmpNameWorkID:[],addDialogVisible:!1,dialogVisible:!1,empTrains:[],multipleSelection:[]}},mounted:function(){this.initEmpTrains()},methods:{emptyEmpTrain:function(){this.empTrain={eid:null,trainContent:""}},showAddEmpTrain:function(){this.getEmpNameWorkID(),this.addDialogVisible=!0},getEmpNameWorkID:function(){var e=this;this.getRequest("employee/basic/empWithNameAndWordID").then((function(t){t&&(e.allEmpNameWorkID=t)}))},addEmpTrain:function(){var e=this;this.empTrain.eid&&this.empTrain.trainContent?this.postRequest("personnel/train",this.empTrain).then((function(t){t&&(e.initEmpTrains(),e.addDialogVisible=!1,e.emptyEmpTrain())})):this.$message({type:"warning",message:"请输入所有字段",duration:2e3,showClose:!0})},doUpdate:function(){var e=this;this.putRequest("personnel/train",this.updateEmpTrain).then((function(t){t&&(e.initEmpTrains(),e.dialogVisible=!1)}))},handleEdit:function(e){this.dialogVisible=!0,Object.assign(this.updateEmpTrain,e)},handleSelectionChange:function(e){this.multipleSelection=e},handleDelete:function(e){var t=this;this.$confirm("此操作将永久删除 [ "+e.name+" ] 的培训记录，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteRequest("personnel/train/"+e.id).then((function(e){e&&t.initEmpTrains()}))})).catch((function(){}))},initEmpTrains:function(){var e=this;this.getRequest("personnel/train").then((function(t){e.empTrains=t}))},delEmpTrains:function(){var e=this;this.$confirm("此操作将永久删除 [ "+this.multipleSelection.length+" ] 条记录，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t=[];e.multipleSelection.forEach((function(e){t.push(e.id)})),e.deleteRequestData("personnel/train",t).then((function(t){t&&e.initEmpTrains()}))})).catch((function(){}))}}}),s=i,r=(a("4eab"),a("2877")),o=Object(r["a"])(s,l,n,!1,null,null,null);t["default"]=o.exports},c045:function(e,t,a){},cfbb:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" 员工调动 ")])},n=[],i={name:"PerMv"},s=i,r=a("2877"),o=Object(r["a"])(s,l,n,!1,null,"3c90dbf6",null);t["default"]=o.exports},d9ac:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("el-button",{attrs:{icon:"el-icon-circle-plus-outline",size:"medium ",type:"text"},on:{click:e.showAddEmpEC}},[e._v(" 添加员工奖惩记录 ")])],1),a("div",{staticClass:"posManageMain"},[a("el-table",{staticStyle:{width:"90%"},attrs:{"header-cell-style":{textAlign:"center"},"cell-style":{textAlign:"center"},data:e.empECs,stripe:"",border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"id",label:"编号",width:"55"}}),a("el-table-column",{attrs:{prop:"workID",width:"92",label:"工号"}}),a("el-table-column",{attrs:{prop:"name",width:"93",label:"姓名"}}),a("el-table-column",{attrs:{prop:"ecDate",label:"奖罚日期"}}),a("el-table-column",{attrs:{prop:"ecReason",label:"奖罚原因"}}),a("el-table-column",{attrs:{prop:"ecPoint",label:"奖罚分",width:"100"}}),a("el-table-column",{attrs:{prop:"ecType",label:"奖罚类别",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.ecType?a("el-tag",{attrs:{type:"success"}},[e._v("加分")]):a("el-tag",{attrs:{type:"danger"}},[e._v("减分")])]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("编辑奖罚分")]),a("el-button",{attrs:{type:"danger"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1)],1),a("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"danger",disabled:0==e.multipleSelection.length},on:{click:e.delEmpECs}},[e._v(" 批量删除 ")]),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:"编辑奖罚分",visible:e.dialogVisible,width:"40%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[0==e.updateEmpEC.ecType?a("el-alert",{attrs:{closable:!1,title:"加分项",type:"success",center:""}}):1==e.updateEmpEC.ecType?a("el-alert",{attrs:{closable:!1,title:"减分项",type:"error",center:""}}):e._e(),a("div",{staticStyle:{"margin-top":"25px"}},[a("el-tag",{staticStyle:{"margin-right":"8px"},attrs:{size:"medium"}},[e._v("奖罚原因")]),a("el-input",{staticClass:"updateECInput",attrs:{disabled:""},model:{value:e.updateEmpEC.ecReason,callback:function(t){e.$set(e.updateEmpEC,"ecReason",t)},expression:"updateEmpEC.ecReason"}})],1),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-tag",{staticStyle:{"margin-right":"8px"},attrs:{size:"medium"}},[e._v("分数调整")]),a("el-input-number",{staticClass:"updateECPointInput",attrs:{min:1,max:100},model:{value:e.updateEmpEC.ecPoint,callback:function(t){e.$set(e.updateEmpEC,"ecPoint",t)},expression:"updateEmpEC.ecPoint"}})],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.doUpdate}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{"close-on-click-modal":!1,"before-close":e.handleClose,title:"添加奖惩记录",visible:e.addDialogVisible,width:"50%"},on:{"update:visible":function(t){e.addDialogVisible=t}}},[a("el-form",{ref:"empECForm",attrs:{model:e.empEC,rules:e.rules}},[a("el-form-item",{attrs:{prop:"eid"}},[a("el-select",{staticStyle:{width:"183px"},attrs:{size:"medium",filterable:"",placeholder:"搜索员工名"},model:{value:e.empEC.eid,callback:function(t){e.$set(e.empEC,"eid",t)},expression:"empEC.eid"}},e._l(e.allEmpNameWorkID,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.name))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"5px"}},[e._v("工号："+e._s(t.workID))])])})),1)],1),a("el-form-item",{attrs:{prop:"ecReason"}},[a("el-input",{attrs:{size:"medium",clearable:"",placeholder:"请输入奖罚原因"},model:{value:e.empEC.ecReason,callback:function(t){e.$set(e.empEC,"ecReason",t)},expression:"empEC.ecReason"}})],1),a("el-form-item",{attrs:{prop:"ecType"}},[a("el-select",{staticStyle:{width:"183px"},attrs:{size:"medium",placeholder:"选择加分或者减分"},model:{value:e.empEC.ecType,callback:function(t){e.$set(e.empEC,"ecType",t)},expression:"empEC.ecType"}},[a("el-option",{attrs:{label:"加分",value:0}}),a("el-option",{attrs:{label:"减分",value:1}})],1)],1),a("el-form-item",{attrs:{prop:"ecPoint"}},[a("el-input",{attrs:{placeholder:"请输入1-100的整数",size:"medium"},model:{value:e.empEC.ecPoint,callback:function(t){e.$set(e.empEC,"ecPoint",t)},expression:"empEC.ecPoint"}})],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.clearValidatesMethod}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addEmpEC}},[e._v("确 定")])],1)],1)],1)},n=[],i=(a("4160"),a("b0c0"),a("159b"),{name:"PerEc",data:function(){return{pointType:["加分","减分"],empEC:{eid:null,ecReason:"",ecPoint:null,ecType:null},updateEmpEC:{ecReason:"",ecPoint:null,ecType:null},allEmpNameWorkID:[],addDialogVisible:!1,dialogVisible:!1,empECs:[],multipleSelection:[],rules:{ecReason:[{required:!0,message:"请输入奖罚原因",trigger:"blur"}],ecType:[{required:!0,message:"请选择加分或减分",trigger:"blur"}],ecPoint:[{required:!0,message:"请输入奖罚分",trigger:"blur"},{pattern:/(^([1-9]|[1-9]\d|100)$)/,message:"请输入1-100的整数",trigger:"blur"}]}}},mounted:function(){this.initEmpECs()},methods:{handleClose:function(){this.clearValidatesMethod()},emptyEmpEC:function(){this.empEC={eid:null,ecReason:"",ecPoint:null,ecType:null}},clearValidatesMethod:function(){this.addDialogVisible=!1,this.emptyEmpEC(),this.$refs.empECForm.clearValidate()},showAddEmpEC:function(){this.getEmpNameWorkID(),this.addDialogVisible=!0},getEmpNameWorkID:function(){var e=this;this.getRequest("employee/basic/empWithNameAndWordID").then((function(t){t&&(e.allEmpNameWorkID=t)}))},addEmpEC:function(){var e=this;this.empEC.eid?this.$refs.empECForm.validate((function(t){t&&e.postRequest("personnel/ec",e.empEC).then((function(t){t&&(e.initEmpECs(),e.addDialogVisible=!1,e.emptyEmpEC())}))})):this.$message({type:"warning",message:"请选择员工",duration:2e3,showClose:!0})},doUpdate:function(){var e=this;this.putRequest("personnel/ec",this.updateEmpEC).then((function(t){t&&(e.initEmpECs(),e.dialogVisible=!1)}))},handleEdit:function(e){this.dialogVisible=!0,Object.assign(this.updateEmpEC,e)},handleSelectionChange:function(e){this.multipleSelection=e},handleDelete:function(e){var t=this;this.$confirm("此操作将永久删除 [ "+e.name+" ] 奖罚记录，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteRequest("personnel/ec/"+e.id).then((function(e){e&&t.initEmpECs()}))})).catch((function(){}))},initEmpECs:function(){var e=this;this.getRequest("personnel/ec").then((function(t){e.empECs=t}))},delEmpECs:function(){var e=this;this.$confirm("此操作将永久删除 [ "+this.multipleSelection.length+" ] 条记录，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t=[];e.multipleSelection.forEach((function(e){t.push(e.id)})),e.deleteRequestData("personnel/ec",t).then((function(t){t&&e.initEmpECs()}))})).catch((function(){}))}}}),s=i,r=(a("58b4"),a("2877")),o=Object(r["a"])(s,l,n,!1,null,null,null);t["default"]=o.exports},feca:function(e,t,a){var l={"./Home.vue":"bb51","./HrInfo.vue":"92d8","./Login.vue":"a55b","./chat/Chat.vue":"ca20","./emp/EmpAdv.vue":"8759","./emp/EmpBasic.vue":"58da","./per/PerEc.vue":"d9ac","./per/PerEmp.vue":"5865","./per/PerMv.vue":"cfbb","./per/PerTrain.vue":"83ed","./sal/SalSob.vue":"2bc5","./sal/SalSobCfg.vue":"6ac98","./sal/SalTable.vue":"21c7","./sys/SysBasic.vue":"8d67","./sys/SysCfg.vue":"1fe7","./sys/SysData.vue":"d1e3","./sys/SysHr.vue":"418a","./sys/SysLog.vue":"864e"};function n(e){var t=i(e);return a(t)}function i(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}n.keys=function(){return Object.keys(l)},n.resolve=i,e.exports=n,n.id="feca"}}]);
//# sourceMappingURL=chunk-12ce5e12.2e39b96e.js.map